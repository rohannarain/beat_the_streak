  0%|          | 0/16 [00:00<?, ?it/s]  6%|6         | 1/16 [01:02<15:40, 62.67s/it] 12%|#2        | 2/16 [03:27<20:23, 87.41s/it] 19%|#8        | 3/16 [04:31<17:23, 80.23s/it] 25%|##5       | 4/16 [05:41<15:24, 77.08s/it] 31%|###1      | 5/16 [08:11<18:11, 99.23s/it] 38%|###7      | 6/16 [09:12<14:36, 87.61s/it] 44%|####3     | 7/16 [10:09<11:46, 78.53s/it] 50%|#####     | 8/16 [11:05<09:34, 71.77s/it] 56%|#####6    | 9/16 [12:11<08:10, 70.05s/it]  0%|          | 0/15 [00:00<?, ?it/s]  7%|6         | 1/15 [01:06<15:31, 66.52s/it] 13%|#3        | 2/15 [02:44<16:26, 75.85s/it] 20%|##        | 3/15 [04:07<15:37, 78.15s/it] 27%|##6       | 4/15 [05:41<15:09, 82.71s/it] 33%|###3      | 5/15 [07:04<13:48, 82.88s/it] 40%|####      | 6/15 [08:24<12:18, 82.09s/it] 47%|####6     | 7/15 [09:44<10:50, 81.33s/it] 53%|#####3    | 8/15 [11:02<09:22, 80.39s/it] 60%|######    | 9/15 [12:39<08:33, 85.56s/it]  0%|          | 0/11 [00:00<?, ?it/s]  9%|9         | 1/11 [01:24<14:01, 84.19s/it] 18%|#8        | 2/11 [02:37<12:07, 80.83s/it] 27%|##7       | 3/11 [03:50<10:28, 78.55s/it] 36%|###6      | 4/11 [04:55<08:40, 74.37s/it]./picks.sh: line 2: 58061 Terminated: 15          /Users/rohannarain/anaconda3/bin/python retrieve_data.py
./picks.sh: line 2: 59695 Terminated: 15          /Users/rohannarain/anaconda3/bin/python retrieve_data.py
./picks.sh: line 2: 86963 Terminated: 15          /Users/rohannarain/anaconda3/bin/python retrieve_data.py
2019-08-23 14:25:00.755 python[88140:1800557] _LSScheduleNotificationFunction() failed on line 649 in function id scheduleApplicationNotification(LSNotificationCode, NSWorkspaceNotificationCenter *)
2019-08-23 14:25:00.756 python[88139:1800556] _LSScheduleNotificationFunction() failed on line 649 in function id scheduleApplicationNotification(LSNotificationCode, NSWorkspaceNotificationCenter *)
2019-08-23 14:25:00.765 python[88138:1800553] _LSScheduleNotificationFunction() failed on line 649 in function id scheduleApplicationNotification(LSNotificationCode, NSWorkspaceNotificationCenter *)
  0%|          | 0/14 [00:00<?, ?it/s]  7%|7         | 1/14 [01:29<19:26, 89.70s/it] 14%|#4        | 2/14 [03:02<18:05, 90.49s/it] 21%|##1       | 3/14 [04:47<17:25, 95.02s/it] 29%|##8       | 4/14 [06:29<16:10, 97.05s/it] 36%|###5      | 5/14 [08:07<14:35, 97.30s/it] 43%|####2     | 6/14 [09:51<13:14, 99.31s/it] 50%|#####     | 7/14 [11:40<11:56, 102.36s/it] 57%|#####7    | 8/14 [13:39<10:43, 107.26s/it] 64%|######4   | 9/14 [15:11<08:33, 102.71s/it] 71%|#######1  | 10/14 [16:50<06:46, 101.54s/it]Traceback (most recent call last):
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py", line 594, in urlopen
    chunked=chunked)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py", line 391, in _make_request
    six.raise_from(e, None)
  File "<string>", line 2, in raise_from
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py", line 387, in _make_request
    httplib_response = conn.getresponse()
  File "/Users/rohannarain/anaconda3/lib/python3.6/http/client.py", line 1331, in getresponse
    response.begin()
  File "/Users/rohannarain/anaconda3/lib/python3.6/http/client.py", line 297, in begin
    version, status, reason = self._read_status()
  File "/Users/rohannarain/anaconda3/lib/python3.6/http/client.py", line 266, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/adapters.py", line 423, in send
    timeout=timeout
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py", line 643, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/util/retry.py", line 334, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/packages/six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py", line 594, in urlopen
    chunked=chunked)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py", line 391, in _make_request
    six.raise_from(e, None)
  File "<string>", line 2, in raise_from
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py", line 387, in _make_request
    httplib_response = conn.getresponse()
  File "/Users/rohannarain/anaconda3/lib/python3.6/http/client.py", line 1331, in getresponse
    response.begin()
  File "/Users/rohannarain/anaconda3/lib/python3.6/http/client.py", line 297, in begin
    version, status, reason = self._read_status()
  File "/Users/rohannarain/anaconda3/lib/python3.6/http/client.py", line 266, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
requests.packages.urllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response',))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "retrieve_data.py", line 472, in <module>
    generate_hits_data()
  File "retrieve_data.py", line 408, in generate_hits_data
    player_id = get_player_id_from_name(player)
  File "retrieve_data.py", line 50, in get_player_id_from_name
    return statsapi.lookup_player(player_name)[0]['id']
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/statsapi/__init__.py", line 933, in lookup_player
    r = get('sports_players',params)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/statsapi/__init__.py", line 1421, in get
    r = requests.get(url)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/api.py", line 70, in get
    return request('get', url, params=params, **kwargs)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/api.py", line 56, in request
    return session.request(method=method, url=url, **kwargs)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/sessions.py", line 488, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/sessions.py", line 609, in send
    r = adapter.send(request, **kwargs)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/adapters.py", line 473, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response',))

Getting data...
Traceback (most recent call last):
  File "train_model.py", line 37, in <module>
    hits_test = pd.read_csv("data/player_stats/player_stats_{}.csv".format(today))
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/io/parsers.py", line 678, in parser_f
    return _read(filepath_or_buffer, kwds)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/io/parsers.py", line 440, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/io/parsers.py", line 787, in __init__
    self._make_engine(self.engine)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/io/parsers.py", line 1014, in _make_engine
    self._engine = CParserWrapper(self.f, **self.options)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/io/parsers.py", line 1708, in __init__
    self._reader = parsers.TextReader(src, **kwds)
  File "pandas/_libs/parsers.pyx", line 384, in pandas._libs.parsers.TextReader.__cinit__
  File "pandas/_libs/parsers.pyx", line 695, in pandas._libs.parsers.TextReader._setup_parser_source
FileNotFoundError: File b'data/player_stats/player_stats_08_24_2019.csv' does not exist
[master 5370cce] predictions 08/24/19
 Committer: Rohan Narain <rohannarain@rohans-mbp-3.attlocal.net>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly. Run the
following command and follow the instructions in your editor to edit
your configuration file:

    git config --global --edit

After doing this, you may fix the identity used for this commit with:

    git commit --amend --reset-author

 1 file changed, 90 insertions(+), 1 deletion(-)
fatal: could not read Username for 'https://github.com': Device not configured
  0%|          | 0/15 [00:00<?, ?it/s]  7%|6         | 1/15 [02:55<40:54, 175.33s/it] 13%|#3        | 2/15 [04:21<32:11, 148.60s/it] 20%|##        | 3/15 [05:41<25:36, 128.03s/it] 27%|##6       | 4/15 [07:05<21:02, 114.82s/it] 33%|###3      | 5/15 [08:36<17:55, 107.53s/it] 40%|####      | 6/15 [10:01<15:07, 100.84s/it] 47%|####6     | 7/15 [11:42<13:26, 100.81s/it] 53%|#####3    | 8/15 [12:59<10:57, 93.89s/it]  60%|######    | 9/15 [14:35<09:27, 94.53s/it] 67%|######6   | 10/15 [15:47<07:17, 87.56s/it] 73%|#######3  | 11/15 [17:00<05:33, 83.35s/it] 80%|########  | 12/15 [18:40<04:24, 88.19s/it] 87%|########6 | 13/15 [19:54<02:47, 83.93s/it] 93%|#########3| 14/15 [21:11<01:21, 81.90s/it]100%|##########| 15/15 [22:33<00:00, 82.13s/it]
  0%|          | 0/15 [00:00<?, ?it/s]  7%|6         | 1/15 [00:43<10:13, 43.85s/it] 13%|#3        | 2/15 [02:02<11:45, 54.23s/it] 20%|##        | 3/15 [02:59<11:02, 55.19s/it] 27%|##6       | 4/15 [03:44<09:34, 52.18s/it] 33%|###3      | 5/15 [05:00<09:52, 59.25s/it] 40%|####      | 6/15 [06:13<09:29, 63.32s/it] 47%|####6     | 7/15 [07:33<09:07, 68.45s/it] 53%|#####3    | 8/15 [08:55<08:27, 72.49s/it] 60%|######    | 9/15 [09:46<06:35, 65.90s/it] 67%|######6   | 10/15 [10:34<05:03, 60.67s/it] 73%|#######3  | 11/15 [11:53<04:24, 66.07s/it] 80%|########  | 12/15 [12:39<02:59, 59.99s/it] 87%|########6 | 13/15 [13:33<01:56, 58.30s/it] 93%|#########3| 14/15 [14:49<01:03, 63.53s/it]100%|##########| 15/15 [15:53<00:00, 63.67s/it]
Finished generating file: data/player_stats/player_stats_08_24_2019.csv
Finished generating file: data/player_stats/player_stats_08_25_2019.csv
Results for 08/24/2019 generated
Getting data...
Data retrieved.
Training logistic regression...
Finished training!
Finding best hyperparameters for AdaBoost...
Training AdaBoost...
Finished training!
Finding best hyperparameters for random forests...
Training random forests...
Finished training!
Model performance summary on validation set: 
             Model  Accuracy  Precision    Recall  F1 Score
0          Logreg  0.783080   0.774869  0.721951  0.747475
1  Random Forests  0.789588   0.767327  0.756098  0.761671
2        AdaBoost  0.774403   0.761658  0.717073  0.738693
Predictions for today: 
                    Name                  Team  Hit Probability
0          Trevor Story      Colorado Rockies         0.843995
1          Amed Rosario         New York Mets         0.841046
2          Hunter Pence         Texas Rangers         0.813288
3      Michael Brantley        Houston Astros         0.813259
4          Yuli Gurriel        Houston Astros         0.807357
5  Nicholas Castellanos          Chicago Cubs         0.807016
6           Jose Altuve        Houston Astros         0.802195
7           Ketel Marte  Arizona Diamondbacks         0.798738
8           Kolten Wong   St. Louis Cardinals         0.792600
9        Austin Meadows        Tampa Bay Rays         0.791981
[master 8789762] predictions 08/25/19
 Committer: Rohan Narain <rohannarain@rohans-mbp-3.attlocal.net>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly. Run the
following command and follow the instructions in your editor to edit
your configuration file:

    git config --global --edit

After doing this, you may fix the identity used for this commit with:

    git commit --amend --reset-author

 6 files changed, 759 insertions(+), 363 deletions(-)
 create mode 100644 data/model_stats/performance_08_25_2019.csv
 create mode 100644 data/past_results/past_results_08_24_2019.csv
 rewrite data/player_stats/player_stats_08_24_2019.csv (89%)
 create mode 100644 data/player_stats/player_stats_08_25_2019.csv
 create mode 100644 data/predictions/predictions_08_25_2019.csv
fatal: could not read Username for 'https://github.com': Device not configured
  0%|          | 0/15 [00:00<?, ?it/s]  7%|6         | 1/15 [01:00<14:05, 60.43s/it] 13%|#3        | 2/15 [02:03<13:15, 61.16s/it] 20%|##        | 3/15 [03:02<12:06, 60.51s/it] 27%|##6       | 4/15 [04:00<10:59, 59.92s/it] 33%|###3      | 5/15 [04:56<09:46, 58.66s/it] 40%|####      | 6/15 [05:57<08:54, 59.43s/it] 47%|####6     | 7/15 [08:25<11:27, 85.94s/it] 53%|#####3    | 8/15 [09:30<09:16, 79.52s/it] 60%|######    | 9/15 [10:29<07:21, 73.54s/it] 67%|######6   | 10/15 [11:32<05:52, 70.41s/it] 73%|#######3  | 11/15 [12:47<04:46, 71.60s/it] 80%|########  | 12/15 [13:47<03:24, 68.25s/it] 87%|########6 | 13/15 [14:47<02:11, 65.88s/it] 93%|#########3| 14/15 [15:58<01:07, 67.29s/it]100%|##########| 15/15 [17:08<00:00, 67.99s/it]
  0%|          | 0/8 [00:00<?, ?it/s] 12%|#2        | 1/8 [01:19<09:13, 79.12s/it] 25%|##5       | 2/8 [02:00<06:46, 67.72s/it] 38%|###7      | 3/8 [04:29<07:40, 92.04s/it] 50%|#####     | 4/8 [05:13<05:11, 77.83s/it] 62%|######2   | 5/8 [06:15<03:38, 72.98s/it] 75%|#######5  | 6/8 [07:03<02:11, 65.53s/it] 88%|########7 | 7/8 [08:18<01:08, 68.35s/it]100%|##########| 8/8 [09:25<00:00, 67.93s/it]
Finished generating file: data/player_stats/player_stats_08_25_2019.csv
Finished generating file: data/player_stats/player_stats_08_26_2019.csv
Results for 08/25/2019 generated
Getting data...
Data retrieved.
Training logistic regression...
Finished training!
Finding best hyperparameters for AdaBoost...
Training AdaBoost...
Finished training!
Finding best hyperparameters for random forests...
Training random forests...
Finished training!
Model performance summary on validation set: 
             Model  Accuracy  Precision    Recall  F1 Score
0          Logreg  0.733189   0.783505  0.652361  0.711944
1  Random Forests  0.731020   0.771144  0.665236  0.714286
2        AdaBoost  0.731020   0.765854  0.673820  0.716895
Predictions for today: 
                Name                  Team  Hit Probability
0     Marcus Semien     Oakland Athletics         0.801010
1       Gio Urshela      New York Yankees         0.800179
2   Freddie Freeman        Atlanta Braves         0.798702
3   Whit Merrifield    Kansas City Royals         0.794181
4  Ronald Acuna Jr.        Atlanta Braves         0.793338
5      Ozzie Albies        Atlanta Braves         0.791960
6      Tony Wolters      Colorado Rockies         0.790824
7        Mark Canha     Oakland Athletics         0.790652
8       Aaron Judge      New York Yankees         0.787353
9  Brandon Crawford  San Francisco Giants         0.784902
[master 08b03b8] predictions 08/26/19
 Committer: Rohan Narain <rohannarain@rohans-mbp-3.attlocal.net>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly. Run the
following command and follow the instructions in your editor to edit
your configuration file:

    git config --global --edit

After doing this, you may fix the identity used for this commit with:

    git commit --amend --reset-author

 6 files changed, 621 insertions(+), 338 deletions(-)
 create mode 100644 data/model_stats/performance_08_26_2019.csv
 create mode 100644 data/past_results/past_results_08_25_2019.csv
 rewrite data/player_stats/player_stats_08_25_2019.csv (88%)
 create mode 100644 data/player_stats/player_stats_08_26_2019.csv
 create mode 100644 data/predictions/predictions_08_26_2019.csv
fatal: could not read Username for 'https://github.com': Device not configured
  0%|          | 0/8 [00:00<?, ?it/s] 12%|#2        | 1/8 [01:21<09:32, 81.74s/it] 25%|##5       | 2/8 [02:32<07:49, 78.31s/it] 38%|###7      | 3/8 [03:38<06:13, 74.62s/it] 50%|#####     | 4/8 [04:44<04:48, 72.17s/it] 62%|######2   | 5/8 [05:39<03:21, 67.08s/it] 75%|#######5  | 6/8 [06:41<02:10, 65.46s/it] 88%|########7 | 7/8 [07:36<01:02, 62.24s/it]100%|##########| 8/8 [08:30<00:00, 59.92s/it]
  0%|          | 0/15 [00:00<?, ?it/s]  7%|6         | 1/15 [00:38<08:58, 38.45s/it] 13%|#3        | 2/15 [01:25<08:53, 41.04s/it] 20%|##        | 3/15 [02:06<08:12, 41.08s/it] 27%|##6       | 4/15 [03:05<08:31, 46.53s/it] 33%|###3      | 5/15 [04:07<08:30, 51.07s/it] 40%|####      | 6/15 [05:03<07:52, 52.51s/it] 47%|####6     | 7/15 [06:03<07:18, 54.76s/it] 53%|#####3    | 8/15 [07:48<08:08, 69.78s/it] 60%|######    | 9/15 [10:19<09:25, 94.26s/it] 67%|######6   | 10/15 [11:35<07:23, 88.72s/it] 73%|#######3  | 11/15 [12:20<05:02, 75.62s/it] 80%|########  | 12/15 [13:08<03:21, 67.21s/it] 87%|########6 | 13/15 [14:00<02:05, 62.70s/it] 93%|#########3| 14/15 [15:14<01:06, 66.29s/it]100%|##########| 15/15 [16:14<00:00, 64.16s/it]
Finished generating file: data/player_stats/player_stats_08_26_2019.csv
Finished generating file: data/player_stats/player_stats_08_27_2019.csv
Results for 08/26/2019 generated
Getting data...
Data retrieved.
Training logistic regression...
Finished training!
Finding best hyperparameters for AdaBoost...
Training AdaBoost...
Finished training!
Finding best hyperparameters for random forests...
Training random forests...
Finished training!
Model performance summary on validation set: 
             Model  Accuracy  Precision    Recall  F1 Score
0          Logreg  0.767896   0.760766  0.736111  0.748235
1  Random Forests  0.741866   0.713656  0.750000  0.731377
2        AdaBoost  0.741866   0.727700  0.717593  0.722611
Predictions for today: 
               Name                  Team  Hit Probability
0     Jordy Mercer        Detroit Tigers         0.849568
1    Victor Robles  Washington Nationals         0.834179
2     Kevin Newman    Pittsburgh Pirates         0.833173
3   David Fletcher    Los Angeles Angels         0.828520
4   Anthony Rendon  Washington Nationals         0.824060
5  Freddie Freeman        Atlanta Braves         0.822993
6    Justin Turner   Los Angeles Dodgers         0.822149
7   Austin Meadows        Tampa Bay Rays         0.818163
8  Jonathan Lucroy          Chicago Cubs         0.816225
9    Marcus Semien     Oakland Athletics         0.815331
Traceback (most recent call last):
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py", line 3124, in get_value
    return libindex.get_value_box(s, key)
  File "pandas/_libs/index.pyx", line 55, in pandas._libs.index.get_value_box
  File "pandas/_libs/index.pyx", line 63, in pandas._libs.index.get_value_box
TypeError: 'str' object cannot be interpreted as an integer

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "train_model.py", line 134, in <module>
    latest_top10_acc = float(predictions.iloc[-1]['player_got_hit'])
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/core/series.py", line 767, in __getitem__
    result = self.index.get_value(self, key)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py", line 3132, in get_value
    raise e1
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py", line 3118, in get_value
    tz=getattr(series.dtype, 'tz', None))
  File "pandas/_libs/index.pyx", line 106, in pandas._libs.index.IndexEngine.get_value
  File "pandas/_libs/index.pyx", line 114, in pandas._libs.index.IndexEngine.get_value
  File "pandas/_libs/index.pyx", line 162, in pandas._libs.index.IndexEngine.get_loc
  File "pandas/_libs/hashtable_class_helper.pxi", line 1492, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas/_libs/hashtable_class_helper.pxi", line 1500, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'player_got_hit'
[master 68bfd54] predictions 08/27/19
 Committer: Rohan Narain <rohannarain@rohans-mbp-3.attlocal.net>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly. Run the
following command and follow the instructions in your editor to edit
your configuration file:

    git config --global --edit

After doing this, you may fix the identity used for this commit with:

    git commit --amend --reset-author

 3 files changed, 65 insertions(+), 14 deletions(-)
 rewrite data/predictions/predictions_08_27_2019.csv (95%)
fatal: could not read Username for 'https://github.com': Device not configured
  0%|          | 0/15 [00:00<?, ?it/s]  7%|6         | 1/15 [01:27<20:19, 87.13s/it] 13%|#3        | 2/15 [02:33<17:30, 80.78s/it] 20%|##        | 3/15 [03:41<15:23, 76.94s/it] 27%|##6       | 4/15 [04:55<13:57, 76.18s/it]  0%|          | 0/14 [00:00<?, ?it/s]  7%|7         | 1/14 [01:46<22:59, 106.10s/it] 14%|#4        | 2/14 [03:05<19:37, 98.09s/it]  21%|##1       | 3/14 [04:31<17:20, 94.56s/it]  0%|          | 0/10 [00:00<?, ?it/s] 10%|#         | 1/10 [01:26<13:02, 86.90s/it] 20%|##        | 2/10 [02:58<11:45, 88.22s/it] 30%|###       | 3/10 [04:12<09:47, 83.93s/it] 40%|####      | 4/10 [05:49<08:48, 88.03s/it] 50%|#####     | 5/10 [07:26<07:33, 90.76s/it]Traceback (most recent call last):
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/contrib/pyopenssl.py", line 417, in wrap_socket
    cnx.do_handshake()
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/OpenSSL/SSL.py", line 1638, in do_handshake
    self._raise_ssl_error(self._ssl, result)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/OpenSSL/SSL.py", line 1370, in _raise_ssl_error
    raise SysCallError(errno, errorcode.get(errno))
OpenSSL.SSL.SysCallError: (50, 'ENETDOWN')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py", line 594, in urlopen
    chunked=chunked)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py", line 350, in _make_request
    self._validate_conn(conn)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py", line 835, in _validate_conn
    conn.connect()
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/connection.py", line 323, in connect
    ssl_context=context)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/util/ssl_.py", line 324, in ssl_wrap_socket
    return context.wrap_socket(sock, server_hostname=server_hostname)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/contrib/pyopenssl.py", line 424, in wrap_socket
    raise ssl.SSLError('bad handshake: %r' % e)
ssl.SSLError: ("bad handshake: SysCallError(50, 'ENETDOWN')",)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/adapters.py", line 423, in send
    timeout=timeout
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py", line 624, in urlopen
    raise SSLError(e)
requests.packages.urllib3.exceptions.SSLError: ("bad handshake: SysCallError(50, 'ENETDOWN')",)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "retrieve_data.py", line 472, in <module>
    generate_hits_data()
  File "retrieve_data.py", line 391, in generate_hits_data
    player_id = get_player_id_from_name(player)
  File "retrieve_data.py", line 50, in get_player_id_from_name
    return statsapi.lookup_player(player_name)[0]['id']
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/statsapi/__init__.py", line 933, in lookup_player
    r = get('sports_players',params)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/statsapi/__init__.py", line 1421, in get
    r = requests.get(url)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/api.py", line 70, in get
    return request('get', url, params=params, **kwargs)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/api.py", line 56, in request
    return session.request(method=method, url=url, **kwargs)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/sessions.py", line 488, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/sessions.py", line 609, in send
    r = adapter.send(request, **kwargs)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/adapters.py", line 497, in send
    raise SSLError(e, request=request)
requests.exceptions.SSLError: ("bad handshake: SysCallError(50, 'ENETDOWN')",)

Getting data...
Traceback (most recent call last):
  File "train_model.py", line 37, in <module>
    hits_test = pd.read_csv("data/player_stats/player_stats_{}.csv".format(today))
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/io/parsers.py", line 678, in parser_f
    return _read(filepath_or_buffer, kwds)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/io/parsers.py", line 440, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/io/parsers.py", line 787, in __init__
    self._make_engine(self.engine)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/io/parsers.py", line 1014, in _make_engine
    self._engine = CParserWrapper(self.f, **self.options)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/io/parsers.py", line 1708, in __init__
    self._reader = parsers.TextReader(src, **kwds)
  File "pandas/_libs/parsers.pyx", line 384, in pandas._libs.parsers.TextReader.__cinit__
  File "pandas/_libs/parsers.pyx", line 695, in pandas._libs.parsers.TextReader._setup_parser_source
FileNotFoundError: File b'data/player_stats/player_stats_08_30_2019.csv' does not exist
[master de9457b] predictions 08/30/19
 Committer: Rohan Narain <rohannarain@Rohans-MacBook-Pro-3.local>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly. Run the
following command and follow the instructions in your editor to edit
your configuration file:

    git config --global --edit

After doing this, you may fix the identity used for this commit with:

    git commit --amend --reset-author

 1 file changed, 77 insertions(+), 1 deletion(-)
fatal: could not read Username for 'https://github.com': Device not configured
  0%|          | 0/15 [00:00<?, ?it/s]  7%|6         | 1/15 [01:27<20:19, 87.12s/it] 13%|#3        | 2/15 [02:46<18:23, 84.90s/it] 20%|##        | 3/15 [03:56<16:04, 80.35s/it] 27%|##6       | 4/15 [05:05<14:07, 77.03s/it]Traceback (most recent call last):
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py", line 594, in urlopen
    chunked=chunked)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py", line 391, in _make_request
    six.raise_from(e, None)
  File "<string>", line 2, in raise_from
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py", line 387, in _make_request
    httplib_response = conn.getresponse()
  File "/Users/rohannarain/anaconda3/lib/python3.6/http/client.py", line 1331, in getresponse
    response.begin()
  File "/Users/rohannarain/anaconda3/lib/python3.6/http/client.py", line 297, in begin
    version, status, reason = self._read_status()
  File "/Users/rohannarain/anaconda3/lib/python3.6/http/client.py", line 258, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "/Users/rohannarain/anaconda3/lib/python3.6/socket.py", line 586, in readinto
    return self._sock.recv_into(b)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/contrib/pyopenssl.py", line 261, in recv_into
    raise SocketError(str(e))
OSError: (50, 'ENETDOWN')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/adapters.py", line 423, in send
    timeout=timeout
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py", line 643, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/util/retry.py", line 334, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/packages/six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py", line 594, in urlopen
    chunked=chunked)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py", line 391, in _make_request
    six.raise_from(e, None)
  File "<string>", line 2, in raise_from
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py", line 387, in _make_request
    httplib_response = conn.getresponse()
  File "/Users/rohannarain/anaconda3/lib/python3.6/http/client.py", line 1331, in getresponse
    response.begin()
  File "/Users/rohannarain/anaconda3/lib/python3.6/http/client.py", line 297, in begin
    version, status, reason = self._read_status()
  File "/Users/rohannarain/anaconda3/lib/python3.6/http/client.py", line 258, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "/Users/rohannarain/anaconda3/lib/python3.6/socket.py", line 586, in readinto
    return self._sock.recv_into(b)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/contrib/pyopenssl.py", line 261, in recv_into
    raise SocketError(str(e))
requests.packages.urllib3.exceptions.ProtocolError: ('Connection aborted.', OSError("(50, 'ENETDOWN')",))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "retrieve_data.py", line 472, in <module>
    generate_hits_data()
  File "retrieve_data.py", line 391, in generate_hits_data
    player_id = get_player_id_from_name(player)
  File "retrieve_data.py", line 50, in get_player_id_from_name
    return statsapi.lookup_player(player_name)[0]['id']
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/statsapi/__init__.py", line 933, in lookup_player
    r = get('sports_players',params)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/statsapi/__init__.py", line 1421, in get
    r = requests.get(url)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/api.py", line 70, in get
    return request('get', url, params=params, **kwargs)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/api.py", line 56, in request
    return session.request(method=method, url=url, **kwargs)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/sessions.py", line 488, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/sessions.py", line 609, in send
    r = adapter.send(request, **kwargs)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/adapters.py", line 473, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', OSError("(50, 'ENETDOWN')",))

Getting data...
Traceback (most recent call last):
  File "train_model.py", line 37, in <module>
    hits_test = pd.read_csv("data/player_stats/player_stats_{}.csv".format(today))
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/io/parsers.py", line 678, in parser_f
    return _read(filepath_or_buffer, kwds)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/io/parsers.py", line 440, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/io/parsers.py", line 787, in __init__
    self._make_engine(self.engine)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/io/parsers.py", line 1014, in _make_engine
    self._engine = CParserWrapper(self.f, **self.options)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/io/parsers.py", line 1708, in __init__
    self._reader = parsers.TextReader(src, **kwds)
  File "pandas/_libs/parsers.pyx", line 384, in pandas._libs.parsers.TextReader.__cinit__
  File "pandas/_libs/parsers.pyx", line 695, in pandas._libs.parsers.TextReader._setup_parser_source
FileNotFoundError: File b'data/player_stats/player_stats_08_31_2019.csv' does not exist
[master 9492869] predictions 08/31/19
 Committer: Rohan Narain <rohannarain@Rohans-MacBook-Pro-3.local>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly. Run the
following command and follow the instructions in your editor to edit
your configuration file:

    git config --global --edit

After doing this, you may fix the identity used for this commit with:

    git commit --amend --reset-author

 1 file changed, 92 insertions(+)
fatal: could not read Username for 'https://github.com': Device not configured
  0%|          | 0/16 [00:00<?, ?it/s]  6%|6         | 1/16 [01:44<26:01, 104.09s/it] 12%|#2        | 2/16 [02:45<21:17, 91.27s/it]  19%|#8        | 3/16 [04:35<20:59, 96.92s/it] 25%|##5       | 4/16 [06:27<20:16, 101.40s/it] 31%|###1      | 5/16 [08:13<18:51, 102.91s/it] 38%|###7      | 6/16 [09:55<17:05, 102.60s/it] 44%|####3     | 7/16 [11:42<15:35, 104.00s/it] 50%|#####     | 8/16 [13:24<13:45, 103.14s/it] 56%|#####6    | 9/16 [15:24<12:38, 108.33s/it] 62%|######2   | 10/16 [16:57<10:22, 103.73s/it] 69%|######8   | 11/16 [18:55<08:59, 107.98s/it] 75%|#######5  | 12/16 [20:31<06:57, 104.46s/it] 81%|########1 | 13/16 [22:25<05:21, 107.23s/it] 88%|########7 | 14/16 [23:45<03:18, 99.12s/it]  94%|#########3| 15/16 [25:21<01:38, 98.09s/it]100%|##########| 16/16 [26:51<00:00, 95.62s/it]
  0%|          | 0/16 [00:00<?, ?it/s]  6%|6         | 1/16 [01:20<20:12, 80.83s/it] 12%|#2        | 2/16 [02:19<17:16, 74.05s/it] 19%|#8        | 3/16 [03:43<16:43, 77.19s/it] 25%|##5       | 4/16 [05:10<16:02, 80.23s/it] 31%|###1      | 5/16 [06:54<15:58, 87.10s/it] 38%|###7      | 6/16 [08:37<15:20, 92.10s/it] 44%|####3     | 7/16 [10:02<13:30, 90.01s/it] 50%|#####     | 8/16 [11:54<12:51, 96.48s/it] 56%|#####6    | 9/16 [13:13<10:37, 91.13s/it] 62%|######2   | 10/16 [14:55<09:26, 94.43s/it] 69%|######8   | 11/16 [16:18<07:34, 90.96s/it] 75%|#######5  | 12/16 [18:01<06:18, 94.54s/it] 81%|########1 | 13/16 [19:15<04:25, 88.50s/it] 88%|########7 | 14/16 [20:52<03:02, 91.05s/it] 94%|#########3| 15/16 [22:22<01:30, 90.75s/it]100%|##########| 16/16 [24:04<00:00, 94.14s/it]
Finished generating file: data/player_stats/player_stats_08_31_2019.csv
Finished generating file: data/player_stats/player_stats_09_01_2019.csv
Results for 08/31/2019 generated
Getting data...
Data retrieved.
Training logistic regression...
Finished training!
Finding best hyperparameters for AdaBoost...
Training AdaBoost...
Finished training!
Finding best hyperparameters for random forests...
Training random forests...
Finished training!
Model performance summary on validation set: 
             Model  Accuracy  Precision    Recall  F1 Score
0          Logreg  0.746631   0.744048  0.710227  0.726744
1  Random Forests  0.727763   0.716763  0.704545  0.710602
2        AdaBoost  0.743935   0.734104  0.721591  0.727794
Predictions for today: 
                Name                  Team  Hit Probability
0  Christian Yelich     Milwaukee Brewers         0.836992
1   Whit Merrifield    Kansas City Royals         0.836880
2      Ozzie Albies        Atlanta Braves         0.832797
3     Rafael Devers        Boston Red Sox         0.829257
4  Ronald Acuna Jr.        Atlanta Braves         0.829076
5    Cody Bellinger   Los Angeles Dodgers         0.825753
6      Alex Bregman        Houston Astros         0.824044
7    Anthony Rendon  Washington Nationals         0.823972
8     J.D. Martinez        Boston Red Sox         0.823636
9      Wilson Ramos         New York Mets         0.820396
Traceback (most recent call last):
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py", line 3124, in get_value
    return libindex.get_value_box(s, key)
  File "pandas/_libs/index.pyx", line 55, in pandas._libs.index.get_value_box
  File "pandas/_libs/index.pyx", line 63, in pandas._libs.index.get_value_box
TypeError: 'str' object cannot be interpreted as an integer

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "train_model.py", line 134, in <module>
    latest_top10_acc = float(predictions.iloc[-1]['player_got_hit'])
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/core/series.py", line 767, in __getitem__
    result = self.index.get_value(self, key)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py", line 3132, in get_value
    raise e1
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py", line 3118, in get_value
    tz=getattr(series.dtype, 'tz', None))
  File "pandas/_libs/index.pyx", line 106, in pandas._libs.index.IndexEngine.get_value
  File "pandas/_libs/index.pyx", line 114, in pandas._libs.index.IndexEngine.get_value
  File "pandas/_libs/index.pyx", line 162, in pandas._libs.index.IndexEngine.get_loc
  File "pandas/_libs/hashtable_class_helper.pxi", line 1492, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas/_libs/hashtable_class_helper.pxi", line 1500, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'player_got_hit'
[master fe46978] predictions 09/01/19
 Committer: Rohan Narain <rohannarain@rohans-mbp-3.attlocal.net>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly. Run the
following command and follow the instructions in your editor to edit
your configuration file:

    git config --global --edit

After doing this, you may fix the identity used for this commit with:

    git commit --amend --reset-author

 6 files changed, 842 insertions(+), 389 deletions(-)
 create mode 100644 data/model_stats/performance_09_01_2019.csv
 create mode 100644 data/past_results/past_results_08_31_2019.csv
 rewrite data/player_stats/player_stats_08_31_2019.csv (90%)
 create mode 100644 data/player_stats/player_stats_09_01_2019.csv
 create mode 100644 data/predictions/predictions_09_01_2019.csv
fatal: could not read Username for 'https://github.com': Device not configured
  0%|          | 0/16 [00:00<?, ?it/s]  6%|6         | 1/16 [03:26<51:40, 206.73s/it] 12%|#2        | 2/16 [04:57<40:08, 172.02s/it] 19%|#8        | 3/16 [07:02<34:10, 157.70s/it] 25%|##5       | 4/16 [08:57<29:01, 145.11s/it] 31%|###1      | 5/16 [10:57<25:11, 137.42s/it] 38%|###7      | 6/16 [12:55<21:56, 131.66s/it] 44%|####3     | 7/16 [15:26<20:38, 137.60s/it] 50%|#####     | 8/16 [17:29<17:44, 133.09s/it] 56%|#####6    | 9/16 [20:11<16:31, 141.67s/it] 62%|######2   | 10/16 [22:42<14:27, 144.56s/it] 69%|######8   | 11/16 [24:41<11:24, 136.95s/it] 75%|#######5  | 12/16 [26:47<08:54, 133.66s/it] 81%|########1 | 13/16 [29:02<06:41, 133.92s/it] 88%|########7 | 14/16 [30:59<04:17, 128.92s/it] 94%|#########3| 15/16 [33:03<02:07, 127.59s/it]100%|##########| 16/16 [35:30<00:00, 133.17s/it]
  0%|          | 0/12 [00:00<?, ?it/s]  8%|8         | 1/12 [01:33<17:13, 93.93s/it] 17%|#6        | 2/12 [03:23<16:25, 98.53s/it] 25%|##5       | 3/12 [05:19<15:34, 103.84s/it] 33%|###3      | 4/12 [07:30<14:56, 112.06s/it] 42%|####1     | 5/12 [09:29<13:17, 113.97s/it] 50%|#####     | 6/12 [11:15<11:10, 111.80s/it] 58%|#####8    | 7/12 [13:10<09:22, 112.53s/it] 67%|######6   | 8/12 [15:16<07:46, 116.68s/it] 75%|#######5  | 9/12 [17:08<05:45, 115.21s/it] 83%|########3 | 10/12 [18:53<03:44, 112.25s/it] 92%|#########1| 11/12 [20:17<01:43, 103.76s/it]100%|##########| 12/12 [21:59<00:00, 103.14s/it]
Finished generating file: data/player_stats/player_stats_09_01_2019.csv
Finished generating file: data/player_stats/player_stats_09_02_2019.csv
Results for 09/01/2019 generated
Getting data...
Data retrieved.
Training logistic regression...
Finished training!
Finding best hyperparameters for AdaBoost...
Training AdaBoost...
Finished training!
Finding best hyperparameters for random forests...
Training random forests...
Finished training!
Model performance summary on validation set: 
             Model  Accuracy  Precision    Recall  F1 Score
0          Logreg  0.761273   0.808383  0.699482  0.750000
1  Random Forests  0.761273   0.772487  0.756477  0.764398
2        AdaBoost  0.748011   0.775281  0.715026  0.743935
Predictions for today: 
                Name                  Team  Hit Probability
0       Nelson Cruz       Minnesota Twins         0.825588
1       Eric Hosmer      San Diego Padres         0.816264
2  Michael Conforto         New York Mets         0.809798
3         Juan Soto  Washington Nationals         0.808130
4     Justin Turner   Los Angeles Dodgers         0.805896
5         Nate Lowe        Tampa Bay Rays         0.801175
6     Jorge Polanco       Minnesota Twins         0.799336
7    Anthony Rendon  Washington Nationals         0.798779
8        Tommy Pham        Tampa Bay Rays         0.798583
9        Matt Joyce        Atlanta Braves         0.793598
Traceback (most recent call last):
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py", line 3124, in get_value
    return libindex.get_value_box(s, key)
  File "pandas/_libs/index.pyx", line 55, in pandas._libs.index.get_value_box
  File "pandas/_libs/index.pyx", line 63, in pandas._libs.index.get_value_box
TypeError: 'str' object cannot be interpreted as an integer

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "train_model.py", line 134, in <module>
    latest_top10_acc = float(predictions.iloc[-1]['player_got_hit'])
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/core/series.py", line 767, in __getitem__
    result = self.index.get_value(self, key)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py", line 3132, in get_value
    raise e1
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py", line 3118, in get_value
    tz=getattr(series.dtype, 'tz', None))
  File "pandas/_libs/index.pyx", line 106, in pandas._libs.index.IndexEngine.get_value
  File "pandas/_libs/index.pyx", line 114, in pandas._libs.index.IndexEngine.get_value
  File "pandas/_libs/index.pyx", line 162, in pandas._libs.index.IndexEngine.get_loc
  File "pandas/_libs/hashtable_class_helper.pxi", line 1492, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas/_libs/hashtable_class_helper.pxi", line 1500, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'player_got_hit'
[master 38348fd] predictions 09/02/19
 Committer: Rohan Narain <rohannarain@rohans-mbp-3.attlocal.net>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly. Run the
following command and follow the instructions in your editor to edit
your configuration file:

    git config --global --edit

After doing this, you may fix the identity used for this commit with:

    git commit --amend --reset-author

 6 files changed, 862 insertions(+), 367 deletions(-)
 create mode 100644 data/model_stats/performance_09_02_2019.csv
 create mode 100644 data/past_results/past_results_09_01_2019.csv
 rewrite data/player_stats/player_stats_09_01_2019.csv (87%)
 create mode 100644 data/player_stats/player_stats_09_02_2019.csv
 create mode 100644 data/predictions/predictions_09_02_2019.csv
fatal: could not read Username for 'https://github.com': Device not configured
  0%|          | 0/12 [00:00<?, ?it/s]  8%|8         | 1/12 [01:49<20:00, 109.18s/it] 17%|#6        | 2/12 [03:42<18:25, 110.55s/it] 25%|##5       | 3/12 [05:37<16:46, 111.80s/it] 33%|###3      | 4/12 [07:52<15:48, 118.59s/it] 42%|####1     | 5/12 [09:54<13:58, 119.73s/it] 50%|#####     | 6/12 [11:37<11:27, 114.66s/it] 58%|#####8    | 7/12 [13:12<09:03, 108.78s/it] 67%|######6   | 8/12 [15:09<07:25, 111.27s/it]Traceback (most recent call last):
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/contrib/pyopenssl.py", line 417, in wrap_socket
    cnx.do_handshake()
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/OpenSSL/SSL.py", line 1638, in do_handshake
    self._raise_ssl_error(self._ssl, result)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/OpenSSL/SSL.py", line 1370, in _raise_ssl_error
    raise SysCallError(errno, errorcode.get(errno))
OpenSSL.SSL.SysCallError: (54, 'ECONNRESET')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py", line 594, in urlopen
    chunked=chunked)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py", line 350, in _make_request
    self._validate_conn(conn)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py", line 835, in _validate_conn
    conn.connect()
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/connection.py", line 323, in connect
    ssl_context=context)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/util/ssl_.py", line 324, in ssl_wrap_socket
    return context.wrap_socket(sock, server_hostname=server_hostname)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/contrib/pyopenssl.py", line 424, in wrap_socket
    raise ssl.SSLError('bad handshake: %r' % e)
ssl.SSLError: ("bad handshake: SysCallError(54, 'ECONNRESET')",)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/adapters.py", line 423, in send
    timeout=timeout
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py", line 624, in urlopen
    raise SSLError(e)
requests.packages.urllib3.exceptions.SSLError: ("bad handshake: SysCallError(54, 'ECONNRESET')",)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "retrieve_data.py", line 472, in <module>
    generate_hits_data()
  File "retrieve_data.py", line 410, in generate_hits_data
    new_row = list(get_current_season_stats(player).values())
  File "retrieve_data.py", line 90, in get_current_season_stats
    get_player_stats = statsapi.player_stats(player_id, 'hitting') 
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/statsapi/__init__.py", line 855, in player_stats
    r = get('person',params)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/statsapi/__init__.py", line 1421, in get
    r = requests.get(url)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/api.py", line 70, in get
    return request('get', url, params=params, **kwargs)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/api.py", line 56, in request
    return session.request(method=method, url=url, **kwargs)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/sessions.py", line 488, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/sessions.py", line 609, in send
    r = adapter.send(request, **kwargs)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/adapters.py", line 497, in send
    raise SSLError(e, request=request)
requests.exceptions.SSLError: ("bad handshake: SysCallError(54, 'ECONNRESET')",)

Getting data...
Traceback (most recent call last):
  File "train_model.py", line 37, in <module>
    hits_test = pd.read_csv("data/player_stats/player_stats_{}.csv".format(today))
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/io/parsers.py", line 678, in parser_f
    return _read(filepath_or_buffer, kwds)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/io/parsers.py", line 440, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/io/parsers.py", line 787, in __init__
    self._make_engine(self.engine)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/io/parsers.py", line 1014, in _make_engine
    self._engine = CParserWrapper(self.f, **self.options)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/io/parsers.py", line 1708, in __init__
    self._reader = parsers.TextReader(src, **kwds)
  File "pandas/_libs/parsers.pyx", line 384, in pandas._libs.parsers.TextReader.__cinit__
  File "pandas/_libs/parsers.pyx", line 695, in pandas._libs.parsers.TextReader._setup_parser_source
FileNotFoundError: File b'data/player_stats/player_stats_09_06_2019.csv' does not exist
[master 3c0396b] predictions 09/06/19
 Committer: Rohan Narain <rohannarain@Rohans-MacBook-Pro-3.local>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly. Run the
following command and follow the instructions in your editor to edit
your configuration file:

    git config --global --edit

After doing this, you may fix the identity used for this commit with:

    git commit --amend --reset-author

 1 file changed, 77 insertions(+)
fatal: could not read Username for 'https://github.com': Device not configured
  0%|          | 0/16 [00:00<?, ?it/s]  6%|6         | 1/16 [01:29<22:23, 89.55s/it] 12%|#2        | 2/16 [02:56<20:41, 88.65s/it] 19%|#8        | 3/16 [04:39<20:08, 92.93s/it]  0%|          | 0/15 [00:00<?, ?it/s]  7%|6         | 1/15 [01:50<25:45, 110.39s/it] 13%|#3        | 2/15 [03:57<25:00, 115.44s/it]./picks.sh: line 2:  1476 Terminated: 15          /Users/rohannarain/anaconda3/bin/python retrieve_data.py
./picks.sh: line 2:  2489 Terminated: 15          /Users/rohannarain/anaconda3/bin/python retrieve_data.py
2019-09-08 17:54:02.900 python[4004:2063021] _LSScheduleNotificationFunction() failed on line 649 in function id scheduleApplicationNotification(LSNotificationCode, NSWorkspaceNotificationCenter *)
2019-09-08 17:54:02.901 python[4005:2063022] _LSScheduleNotificationFunction() failed on line 649 in function id scheduleApplicationNotification(LSNotificationCode, NSWorkspaceNotificationCenter *)
  0%|          | 0/8 [00:00<?, ?it/s] 12%|#2        | 1/8 [01:48<12:40, 108.60s/it] 25%|##5       | 2/8 [03:41<10:59, 109.98s/it] 38%|###7      | 3/8 [05:14<08:44, 104.82s/it] 50%|#####     | 4/8 [07:53<08:04, 121.11s/it] 62%|######2   | 5/8 [09:13<05:26, 108.85s/it] 75%|#######5  | 6/8 [10:52<03:31, 105.72s/it] 88%|########7 | 7/8 [12:30<01:43, 103.37s/it]100%|##########| 8/8 [14:04<00:00, 100.73s/it]
  0%|          | 0/15 [00:00<?, ?it/s]  7%|6         | 1/15 [01:34<21:56, 94.03s/it] 13%|#3        | 2/15 [03:08<20:25, 94.30s/it]  0%|          | 0/15 [00:00<?, ?it/s]  7%|6         | 1/15 [01:43<24:02, 103.02s/it] 13%|#3        | 2/15 [03:41<23:20, 107.75s/it]./picks.sh: line 2:  5085 Terminated: 15          /Users/rohannarain/anaconda3/bin/python retrieve_data.py
./picks.sh: line 2:  2001 Terminated: 15          /Users/rohannarain/anaconda3/bin/python retrieve_data.py
2019-09-11 17:43:01.477 python[7320:1470809] _LSScheduleNotificationFunction() failed on line 649 in function id scheduleApplicationNotification(LSNotificationCode, NSWorkspaceNotificationCenter *)
2019-09-11 17:43:01.478 python[7319:1470820] _LSScheduleNotificationFunction() failed on line 649 in function id scheduleApplicationNotification(LSNotificationCode, NSWorkspaceNotificationCenter *)
  0%|          | 0/15 [00:00<?, ?it/s]  7%|6         | 1/15 [08:02<1:52:36, 482.58s/it] 13%|#3        | 2/15 [10:04<1:21:08, 374.47s/it] 20%|##        | 3/15 [12:18<1:00:27, 302.28s/it] 27%|##6       | 4/15 [14:39<46:34, 254.00s/it]   33%|###3      | 5/15 [16:40<35:39, 213.99s/it] 40%|####      | 6/15 [19:43<30:43, 204.80s/it] 47%|####6     | 7/15 [22:05<24:46, 185.84s/it] 53%|#####3    | 8/15 [24:20<19:53, 170.45s/it] 60%|######    | 9/15 [26:43<16:14, 162.40s/it] 67%|######6   | 10/15 [28:47<12:34, 150.84s/it] 73%|#######3  | 11/15 [31:03<09:45, 146.25s/it] 80%|########  | 12/15 [33:03<06:55, 138.35s/it] 87%|########6 | 13/15 [35:08<04:28, 134.47s/it] 93%|#########3| 14/15 [36:57<02:06, 126.80s/it]100%|##########| 15/15 [38:33<00:00, 117.68s/it]
  0%|          | 0/14 [00:00<?, ?it/s]  7%|7         | 1/14 [02:08<27:54, 128.80s/it] 14%|#4        | 2/14 [04:30<26:33, 132.81s/it] 21%|##1       | 3/14 [06:20<23:04, 125.86s/it] 29%|##8       | 4/14 [08:31<21:14, 127.41s/it] 36%|###5      | 5/14 [10:24<18:28, 123.15s/it] 43%|####2     | 6/14 [12:59<17:39, 132.46s/it] 50%|#####     | 7/14 [14:59<15:02, 128.94s/it] 57%|#####7    | 8/14 [17:07<12:50, 128.46s/it] 64%|######4   | 9/14 [19:14<10:41, 128.23s/it] 71%|#######1  | 10/14 [20:56<08:01, 120.35s/it] 79%|#######8  | 11/14 [23:18<06:20, 126.67s/it] 86%|########5 | 12/14 [25:15<04:07, 123.75s/it] 93%|#########2| 13/14 [27:06<01:59, 119.96s/it]100%|##########| 14/14 [29:03<00:00, 119.08s/it]
Finished generating file: data/player_stats/player_stats_09_12_2019.csv
Finished generating file: data/player_stats/player_stats_09_13_2019.csv
Results for 09/12/2019 generated
Getting data...
Data retrieved.
Training logistic regression...
Finished training!
Finding best hyperparameters for AdaBoost...
Training AdaBoost...
Finished training!
Finding best hyperparameters for random forests...
Training random forests...
Finished training!
Model performance summary on validation set: 
             Model  Accuracy  Precision    Recall  F1 Score
0          Logreg  0.826230   0.851613  0.613953  0.713514
1  Random Forests  0.824590   0.817647  0.646512  0.722078
2        AdaBoost  0.806557   0.751295  0.674419  0.710784
Predictions for today: 
                Name                  Team  Hit Probability
0      Nick Martini      San Diego Padres         0.865330
1      Yoan Moncada     Chicago White Sox         0.814358
2       Trea Turner  Washington Nationals         0.810344
3        Joey Votto       Cincinnati Reds         0.806726
4      Tim Anderson     Chicago White Sox         0.803957
5    Miguel Cabrera        Detroit Tigers         0.802054
6    David Fletcher    Los Angeles Angels         0.801355
7      David Freese   Los Angeles Dodgers         0.795485
8  Christian Yelich     Milwaukee Brewers         0.793417
9      Miguel Rojas         Miami Marlins         0.787149
Traceback (most recent call last):
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py", line 3124, in get_value
    return libindex.get_value_box(s, key)
  File "pandas/_libs/index.pyx", line 55, in pandas._libs.index.get_value_box
  File "pandas/_libs/index.pyx", line 63, in pandas._libs.index.get_value_box
TypeError: 'str' object cannot be interpreted as an integer

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "train_model.py", line 134, in <module>
    latest_top10_acc = float(predictions.iloc[-1]['player_got_hit'])
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/core/series.py", line 767, in __getitem__
    result = self.index.get_value(self, key)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py", line 3132, in get_value
    raise e1
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py", line 3118, in get_value
    tz=getattr(series.dtype, 'tz', None))
  File "pandas/_libs/index.pyx", line 106, in pandas._libs.index.IndexEngine.get_value
  File "pandas/_libs/index.pyx", line 114, in pandas._libs.index.IndexEngine.get_value
  File "pandas/_libs/index.pyx", line 162, in pandas._libs.index.IndexEngine.get_loc
  File "pandas/_libs/hashtable_class_helper.pxi", line 1492, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas/_libs/hashtable_class_helper.pxi", line 1500, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'player_got_hit'
[master 8e6ff1a] predictions 09/13/19
 Committer: Rohan Narain <rohannarain@Rohans-MacBook-Pro-3.local>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly. Run the
following command and follow the instructions in your editor to edit
your configuration file:

    git config --global --edit

After doing this, you may fix the identity used for this commit with:

    git commit --amend --reset-author

 6 files changed, 1021 insertions(+), 468 deletions(-)
 create mode 100644 data/model_stats/performance_09_13_2019.csv
 create mode 100644 data/past_results/past_results_09_12_2019.csv
 rewrite data/player_stats/player_stats_09_12_2019.csv (82%)
 create mode 100644 data/player_stats/player_stats_09_13_2019.csv
 create mode 100644 data/predictions/predictions_09_13_2019.csv
fatal: could not read Username for 'https://github.com': Device not configured
  0%|          | 0/14 [00:00<?, ?it/s]  7%|7         | 1/14 [01:29<19:25, 89.66s/it] 14%|#4        | 2/14 [03:10<18:36, 93.04s/it] 21%|##1       | 3/14 [04:42<16:59, 92.64s/it]Traceback (most recent call last):
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/contrib/pyopenssl.py", line 417, in wrap_socket
    cnx.do_handshake()
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/OpenSSL/SSL.py", line 1638, in do_handshake
    self._raise_ssl_error(self._ssl, result)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/OpenSSL/SSL.py", line 1370, in _raise_ssl_error
    raise SysCallError(errno, errorcode.get(errno))
OpenSSL.SSL.SysCallError: (32, 'EPIPE')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py", line 594, in urlopen
    chunked=chunked)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py", line 350, in _make_request
    self._validate_conn(conn)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py", line 835, in _validate_conn
    conn.connect()
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/connection.py", line 323, in connect
    ssl_context=context)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/util/ssl_.py", line 324, in ssl_wrap_socket
    return context.wrap_socket(sock, server_hostname=server_hostname)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/contrib/pyopenssl.py", line 424, in wrap_socket
    raise ssl.SSLError('bad handshake: %r' % e)
ssl.SSLError: ("bad handshake: SysCallError(32, 'EPIPE')",)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/adapters.py", line 423, in send
    timeout=timeout
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py", line 624, in urlopen
    raise SSLError(e)
requests.packages.urllib3.exceptions.SSLError: ("bad handshake: SysCallError(32, 'EPIPE')",)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "retrieve_data.py", line 472, in <module>
    generate_hits_data()
  File "retrieve_data.py", line 394, in generate_hits_data
    new_row += list(batting_past_N_games(7, player_id).values())
  File "retrieve_data.py", line 183, in batting_past_N_games
    r = statsapi.get('person',params)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/statsapi/__init__.py", line 1421, in get
    r = requests.get(url)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/api.py", line 70, in get
    return request('get', url, params=params, **kwargs)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/api.py", line 56, in request
    return session.request(method=method, url=url, **kwargs)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/sessions.py", line 488, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/sessions.py", line 609, in send
    r = adapter.send(request, **kwargs)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/requests/adapters.py", line 497, in send
    raise SSLError(e, request=request)
requests.exceptions.SSLError: ("bad handshake: SysCallError(32, 'EPIPE')",)

Getting data...
Traceback (most recent call last):
  File "train_model.py", line 37, in <module>
    hits_test = pd.read_csv("data/player_stats/player_stats_{}.csv".format(today))
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/io/parsers.py", line 678, in parser_f
    return _read(filepath_or_buffer, kwds)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/io/parsers.py", line 440, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/io/parsers.py", line 787, in __init__
    self._make_engine(self.engine)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/io/parsers.py", line 1014, in _make_engine
    self._engine = CParserWrapper(self.f, **self.options)
  File "/Users/rohannarain/anaconda3/lib/python3.6/site-packages/pandas/io/parsers.py", line 1708, in __init__
    self._reader = parsers.TextReader(src, **kwds)
  File "pandas/_libs/parsers.pyx", line 384, in pandas._libs.parsers.TextReader.__cinit__
  File "pandas/_libs/parsers.pyx", line 695, in pandas._libs.parsers.TextReader._setup_parser_source
FileNotFoundError: File b'data/player_stats/player_stats_09_14_2019.csv' does not exist
[master 6c99c18] predictions 09/14/19
 Committer: Rohan Narain <rohannarain@Rohans-MacBook-Pro-3.local>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly. Run the
following command and follow the instructions in your editor to edit
your configuration file:

    git config --global --edit

After doing this, you may fix the identity used for this commit with:

    git commit --amend --reset-author

 1 file changed, 75 insertions(+)
fatal: could not read Username for 'https://github.com': Device not configured
